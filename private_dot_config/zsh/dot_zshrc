# zmodload zsh/zprof

# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.config/zsh/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

typeset -g POWERLEVEL9K_INSTANT_PROMPT=off
typeset -g POWERLEVEL9K_INSTANT_PROMPT=quiet

#!/usr/bin/env zsh
#

# if [ -z "$TMUX" ] && [ "$UID" != 0 ] && [ "$TERMINAL_EMULATOR" != "JetBrains-JediTerm" ]; then
#     if tmux has-session -t main 2>/dev/null; then
#         tmux attach-session -t main
#     else
#         tmux new-session -s main
#     fi
# fi

source $(brew --prefix)/share/powerlevel10k/powerlevel10k.zsh-theme

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"
export ZDOTDIR="$HOME/.config/zsh"

plugins=(
    vi-mode
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
    tmux
    docker
    history 
    zsh-autosuggestions 
    zsh-syntax-highlighting 
    fzf 
    zsh-interactive-cd
    )

source "$ZSH/oh-my-zsh.sh"

source "$ZDOTDIR/aliases.zsh"
source "$ZDOTDIR/options.zsh"
source "$ZDOTDIR/functions.zsh"
source <(kubectl completion zsh)
source <(fx --comp zsh)

eval "$(zoxide init zsh)"
 # Refrence:
# # https://gitlab.com/fazzi/dotfiles.git


# To customize prompt, run `p10k configure` or edit ~/.config/zsh/.p10k.zsh.
[[ ! -f ~/.config/zsh/.p10k.zsh ]] || source ~/.config/zsh/.p10k.zsh

export GOPRIVATE=orahub.oci.oraclecorp.com

extract_zip() {
  if [[ -z "$1" ]]; then
    echo "Usage: extract_zip <zipfile>"
    return 1
  fi

  local zipfile="$1"
  if [[ ! -f "$zipfile" ]]; then
    echo "Error: File '$zipfile' does not exist."
    return 1
  fi

  local folder="${zipfile%.zip}"
  mkdir -p "$folder" && unzip "$zipfile" -d "$folder"
}
alias uzip=extract_zip

# zprof
